[Rainmeter]
Author=P2C | toastbrotpascal.deviantart.com
Update=1000

@include="#SKINSPATH#\ABP\Variables.txt"
@include2="#SKINSPATH#\ABP\Resources\#Skin#\Colors.txt"

[Variables]
Closed=0
Open=1


[BG]
Meter=IMAGE
ImageName=WeatherBG.png
Path="#SKINSPATH#\ABP\Resources\#Skin#"

[BG2]
Meter=IMAGE
ImageName=WeatherBG2.png
Path="#SKINSPATH#\ABP\Resources\#Skin#"
Y=115
Hidden=#Open#
Group=Open

[Bottom]
Meter=IMAGE
ImageName=Bottom.png
Path="#SKINSPATH#\ABP\Resources\#Skin#"
Y=115

[MeasureWeatherRSS]
Measure=Plugin
Plugin=Plugins\WebParser.dll
UpdateRate=1800
Url=http://weather.yahooapis.com/forecastrss?p=#WeatherCode#&u=#Unit#
RegExp=(?siU)<link.*>(.*)</link>.*city=\"(.*)\".*sunrise=\"(.*)\".*sunset=\"(.*)\".*<image>.*<url>(.*)</url>.*<title>.*:.*m .*(.*)</title>.*lat>(.*)<.*long>(.*)<.*yweather:condition.*text=\"(.*)\".*code=\"(.*)\".*temp=\"(.*)\".*yweather:forecast.*day=\"(.*)\".*high=\"(.*)\".*code=\"(.*)\".*yweather:forecast.*day=\"(.*)\".*high=\"(.*)\".*code=\"(.*)\".*
StringIndex=1

[MeasureWeatherTemp]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=11

[MeasureWeatherIcon]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=10

[CurrentTemperature]
Meter=STRING
MeterStyle=Style
MeasureName=MeasureWeatherTemp
X=175
Y=70
Postfix="°"
FontSize=12
FontColor=#Color#
StringAlign=RIGHT

[CurrentIcon]
Meter=Image
MeasureName=MeasureWeatherIcon
Path="#SKINSPATH#\ABP\Resources\Weather\LargeIcons"
X=20
W=145

[MeasureWeatherDesc]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=9

[WeatherDescription]
Meter=STRING
MeterStyle=Style
MeasureName=MeasureWeatherDesc
StringAlign=CENTER
X=97
Y=98
FontSize=8

[Down]
Meter=IMAGE
ImageName=Down.png
Path="#SKINSPATH#\ABP\Resources\#Skin#"
X=86
Y=118
Group=Closed
Hidden=#Closed#
MouseOverAction=!Execute [!RainmeterShowMeter DownH][!RainmeterRedraw]
MouseLeaveAction=!Execute [!RainmeterHideMeter DownH][!RainmeterRedraw]

[DownH]
Meter=IMAGE
ImageName=Down.png
Path="#SKINSPATH#\ABP\Resources\#Skin#"
X=r
Y=r
Hidden=1
ImageTint=#Color#
LeftMouseUpAction=!Execute [!RainmeterWriteKeyValue Bottom Y 186][!RainmeterWriteKeyValue Variables Closed 1][!RainmeterWriteKeyValue Variables Open 0][!RainmeterHideMeterGroup Closed][!RainmeterShowMeterGroup Open][!RainmeterMoveMeter 0 186 Bottom][!RainmeterHideMeter DownH][!RainmeterRedraw]

[Up]
Meter=IMAGE
ImageName=Up.png
Path="#SKINSPATH#\ABP\Resources\#Skin#"
X=86
Y=189
Group=Open
Hidden=#Open#
MouseOverAction=!Execute [!RainmeterShowMeter UpH][!RainmeterRedraw]
MouseLeaveAction=!Execute [!RainmeterHideMeter UpH][!RainmeterRedraw]

[UpH]
Meter=IMAGE
ImageName=Up.png
Path="#SKINSPATH#\ABP\Resources\#Skin#"
X=r
Y=r
Hidden=1
ImageTint=#Color#
LeftMouseUpAction=!Execute [!RainmeterWriteKeyValue Bottom Y 115][!RainmeterWriteKeyValue Variables Closed 0][!RainmeterWriteKeyValue Variables Open 1][!RainmeterShowMeterGroup Closed][!RainmeterHideMeterGroup Open][!RainmeterMoveMeter 0 115 Bottom][!RainmeterHideMeter UpH][!RainmeterRedraw]

[TodayText]
Meter=STRING
MeterStyle=Style
FontColor=#Color#
X=28
Y=120
Text="Today:"
Group=Open
Hidden=#Open#

[MeasureWeatherTemp2]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=13

[TodayTemperature]
Meter=STRING
MeterStyle=Style
MeasureName=MeasureWeatherTemp2
X=R
Y=r
FontSize=8
Postfix="°"
Group=Open
Hidden=#Open#

[MeasureWeatherIcon2]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=14

[TodayIcon]
Meter=Image
MeasureName=MeasureWeatherIcon2
Path="#SKINSPATH#\ABP\Resources\Weather\SmallIcons"
X=27
Y=15r
Group=Open
Hidden=#Open#

[MeasureWeatherDate3]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=15

[Date3]
Meter=STRING
MeterStyle=Style
MeasureName=MeasureWeatherDate3
FontColor=#Color#
X=122
Y=120
FontSize=8
Postfix=":"
Group=Open
Hidden=#Open#

[MeasureWeatherTemp3]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=16

[Temperature3]
Meter=STRING
MeterStyle=Style
MeasureName=MeasureWeatherTemp3
X=R
Y=r
FontSize=8
Postfix="°"
Group=Open
Hidden=#Open#

[MeasureWeatherIcon3]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=17

[Icon3]
Meter=Image
MeasureName=MeasureWeatherIcon3
Path="#SKINSPATH#\ABP\Resources\Weather\SmallIcons"
X=109
Y=15r
Group=Open
Hidden=#Open#

[Yahoo]
Meter=STRING
MeterStyle=Style
X=100
Y=171
Text="Yahoo! Weather"
FontSize=7
StringAlign=CENTER
Group=Open
Hidden=#Open#
LeftMouseUpAction=!Execute ["http://weather.yahoo.com"]
